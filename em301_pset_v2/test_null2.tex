\documentclass[12pt]{article}



\newenvironment{problem}{Задача n.


}{}


\newenvironment{solution}{%
  \catcode`\{=12
  \catcode`\}=12
  \DoNull
}{%
  \ignorespacesafterend
}

\begingroup
  \catcode`\(=1
  \catcode`\)=2
  \catcode`\{=12
  \catcode`\}=12
  \def\x(%
    \endgroup
    \newcommand\DoNull()
    \long\def\DoNull##1\end{solution}(\end(solution))
  )
\x




\begin{document}


\begin{problem}
 Верно ли, что для любых векторов $a = (a_1,\dots,a_n)$ и $b = (b_1,\dots,b_n)$ справедливы следующие равенства?
\begin{enumerate}
\item $\sum_{i=1}^n {(a_i-\bar a)} = 0$
\item $\sum_{i=1}^n {(a_i-\bar a)^2} = \sum_{i=1}^n {(a_i-\bar a)a_i}$
\item $\sum_{i=1}^n {(a_i-\bar a)(b_i-\bar b)} = \sum_{i=1}^n {(a_i-\bar a)b_i}$
\item $\sum_{i=1}^n {(a_i-\bar a)(b_i-\bar b)} = \sum_{i=1}^n {a_i b_i}$
\end{enumerate}
\end{problem}

\begin{solution}
 да, да, да, нет
\end{solution}



\end{document}